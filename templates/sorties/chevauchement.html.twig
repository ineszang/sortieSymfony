<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Construire le texte de la pop-up avec les détails des chevauchements
        let chevauchementsHtml = `{{ chevauchementsHtml|raw }}`;

        // Affiche une pop-up d'avertissement
        Swal.fire({
            title: 'Chevauchement détecté !',
            html: 'Cette sortie chevauche une autre sortie à laquelle vous êtes inscrit. Votre inscription est quand même validée.<br>' + chevauchementsHtml,
            icon: 'warning',
            confirmButtonText: 'OK'
        }).then((result) => {
            // Redirige l'utilisateur vers une autre page après avoir cliqué sur OK
            if (result.isConfirmed) {
                window.location.href = "{{ path('app_allSorties') }}";
            }
        });
    });
</script>   